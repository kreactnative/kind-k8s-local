{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Kind","text":""},{"location":"#install-kubectl","title":"Install kubectl","text":"<pre><code>brew install kubernetes-cli\n</code></pre>"},{"location":"#install-docker-desktop","title":"Install Docker Desktop","text":"<pre><code>brew install --cask docker\n</code></pre>"},{"location":"#install-kind","title":"Install Kind","text":"<pre><code>brew install kind\n</code></pre>"},{"location":"#install-mkcert","title":"Install mkcert","text":"<pre><code>brew install mkcert\n</code></pre>"},{"location":"cluster/","title":"Cluster","text":""},{"location":"cluster/#create-kind-config","title":"Create kind config","text":""},{"location":"cluster/#clusteryaml","title":"cluster.yaml","text":"<pre><code>kind: Cluster\napiVersion: kind.x-k8s.io/v1alpha4\nname: local\nnodes:\n- role: control-plane\n  kubeadmConfigPatches:\n  - |\n    kind: InitConfiguration\n    nodeRegistration:\n      kubeletExtraArgs:\n        node-labels: \"ingress-ready=true\"\n  extraPortMappings:\n  - containerPort: 80\n    hostPort: 80\n    protocol: TCP\n  - containerPort: 443\n    hostPort: 443\n    protocol: TCP\n  - containerPort: 443\n    hostPort: 443\n    protocol: UDP\n- role: worker\n- role: worker\n</code></pre>"},{"location":"cluster/#create-cluster","title":"Create cluster","text":"<pre><code>kind create cluster --config cluster.yaml\n</code></pre>"},{"location":"cluster/#output","title":"Output","text":"<pre><code>~/projects/tutorials/kind-k8s-local/docs/resources \ue0b4 kind create cluster --config cluster.yaml\nCreating cluster \"local\" ...\n \u2713 Ensuring node image (kindest/node:v1.27.3) \ud83d\uddbc \n \u2713 Preparing nodes \ud83d\udce6 \ud83d\udce6 \ud83d\udce6  \n \u2713 Writing configuration \ud83d\udcdc \n \u2713 Starting control-plane \ud83d\udd79\ufe0f \n \u2713 Installing CNI \ud83d\udd0c \n \u2713 Installing StorageClass \ud83d\udcbe \n \u2713 Joining worker nodes \ud83d\ude9c \nSet kubectl context to \"kind-local\"\nYou can now use your cluster with:\n\nkubectl cluster-info --context kind-local\n\nNot sure what to do next? \ud83d\ude05  Check out https://kind.sigs.k8s.io/docs/user/quick-start/\n</code></pre>"},{"location":"cluster/#get-nodes","title":"Get nodes","text":"<pre><code>kubectl get nodes -o wide\nNAME                  STATUS   ROLES           AGE     VERSION   INTERNAL-IP   EXTERNAL-IP   OS-IMAGE                         KERNEL-VERSION        CONTAINER-RUNTIME\nlocal-control-plane   Ready    control-plane   8m25s   v1.27.3   172.19.0.4    &lt;none&gt;        Debian GNU/Linux 11 (bullseye)   5.15.49-linuxkit-pr   containerd://1.7.1\nlocal-worker          Ready    &lt;none&gt;          8m4s    v1.27.3   172.19.0.3    &lt;none&gt;        Debian GNU/Linux 11 (bullseye)   5.15.49-linuxkit-pr   containerd://1.7.1\nlocal-worker2         Ready    &lt;none&gt;          8m4s    v1.27.3   172.19.0.2    &lt;none&gt;        Debian GNU/Linux 11 (bullseye)   5.15.49-linuxkit-pr   containerd://1.7.1\n</code></pre>"},{"location":"metal-lb/","title":"MetalLB","text":"<pre><code>\u251c\u2500\u2500 cluster.yaml\n\u251c\u2500\u2500 images\n\u2502   \u2514\u2500\u2500 kind-local-docker.jpg\n\u251c\u2500\u2500 metal-lb\n\u2502   \u251c\u2500\u2500 configmap.yaml\n\u2502   \u2514\u2500\u2500 metallb.yaml\n\u2514\u2500\u2500 metrics-server\n    \u2514\u2500\u2500 components.yaml\n</code></pre> <pre><code>kubectl create ns metallb-system\nkubectl create secret generic -n metallb-system memberlist --from-literal=secretkey=\"$(openssl rand -base64 128)\"\nkubectl apply -f metal-lb --validate=false\n</code></pre>"},{"location":"metrics-server/","title":"Metrics Server","text":"<p>cd docs/resources</p> <pre><code>\u251c\u2500\u2500 cluster.yaml\n\u251c\u2500\u2500 images\n\u2502   \u2514\u2500\u2500 kind-local-docker.jpg\n\u2514\u2500\u2500 metrics-server\n    \u2514\u2500\u2500 components.yaml\n</code></pre> <pre><code>kubectl apply -f metrics-server --validate=false\n</code></pre>"},{"location":"metrics-server/#output","title":"Output","text":"<pre><code>kubectl apply -f metrics-server --validate=false\n\nserviceaccount/metrics-server created\nclusterrole.rbac.authorization.k8s.io/system:aggregated-metrics-reader created\nclusterrole.rbac.authorization.k8s.io/system:metrics-server created\nrolebinding.rbac.authorization.k8s.io/metrics-server-auth-reader created\nclusterrolebinding.rbac.authorization.k8s.io/metrics-server:system:auth-delegator created\nclusterrolebinding.rbac.authorization.k8s.io/system:metrics-server created\nservice/metrics-server created\ndeployment.apps/metrics-server created\napiservice.apiregistration.k8s.io/v1beta1.metrics.k8s.io created\n</code></pre> <pre><code>kubectl top nodes\nNAME                  CPU(cores)   CPU%   MEMORY(bytes)   MEMORY%   \nlocal-control-plane   347m         2%     711Mi           9%        \nlocal-worker          58m          0%     154Mi           1%        \nlocal-worker2         42m          0%     126Mi           1%       \n</code></pre>"}]}